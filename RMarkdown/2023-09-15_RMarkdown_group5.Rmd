---
title: "Group 5 Report"
author: "Dagfinn, Mathilde, Joanna, Ingvild"
date: "2023-09-15"
output: html_document
---

Load library
```{r, echo=FALSE, message = FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
library(patchwork)
library(skimr)
library(naniar)
library(GGally)
```

Read file
```{r, echo=FALSE, message=FALSE}
OurData <- read_delim(here("Data", "tidy_exam_data.txt"))
```

## Description of data

### Tidying data

## Exploring data

###Exploring data

OurData contains 834 rows (patients) and 34 columns (variable). The columns types is character (9 values), factor (2 values), logical (12) values and numeric (11 values). 

```{r}
summary(OurData)
skimr::skim(OurData)
```
### Exploring missing values 
There are 810 missing values in the category "BL.Diab.Type". Only the person with diabetes could report diabetes type. 

```{r}
OurData %>% 
  summarise_all(~sum(is.na(.))) %>% 
  gather(variable, na_count) %>%
  filter(na_count > 0) 
```

### Raport of min, max, mean and sd of `Age`.

```{r}
OurData %>% 
  group_by(Group) %>%
  summarise(min_age = min(Age, na.rm = TRUE),
            max_age = max(Age, na.rm = TRUE),
            mean_age = mean(Age, na.rm = TRUE),
            sd_age = sd(Age, na.rm = TRUE))
```

### Raport of min, max, mean and sd of `Birthweight` filtered by BMI <= 30, Age > 25, race "Black" and Enroll.center "NY"

```{r}
OurData %>% 
  filter(BMI <= 30) %>%
  filter(Age > 25) %>%
  filter(race == "Black") %>%
  filter(Enroll.Center == "NY" ) %>%
  group_by(Group) %>%
  summarise(min_birthweight = min(Birthweight, na.rm = TRUE),
            max_birthweight = max(Birthweight, na.rm = TRUE),
            mean_birthweight = mean(Birthweight, na.rm = TRUE),
            sd_birthweight = sd(Birthweight, na.rm = TRUE)) 
```

### Number of participants of controll and treatment groups in each of enrollment centers.

```{r}
OurData %>% 
  count(Enroll.Center, Group)
```

## Plotting data
### Exploring correlated measurements
```{r, echo=FALSE, warning=FALSE, message=FALSE}
multiple_correlations_plot <- ggpairs(OurData[c("BMI", 
                    "Age", 
                    "Education", 
                    "GA.at.outcome", 
                    "Birthweight",
                    "IL6_baseline",
                    "IL8_baseline")])

multiple_correlations_plot
```


## Analysis
```{r}
sessionInfo()
```


